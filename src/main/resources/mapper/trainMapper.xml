<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="self.training" >
	
    <!-- 通过项目名称查询详情-->
    <select id="search_areaName_info" parameterType="java.util.Map" resultType="com.self.training.entity.TrainingEntity" >
        SELECT
        	t1.id AS id,
			t1.train_issue AS issue,
			t1.area_id AS areaId,
			t1.start_time AS startTime,
			t1.end_time AS endTime,
			t1.train_course AS course,
			t1.course_path AS path,
			t1.train_teacher AS teacherName,
			t2.area_name AS areaName,
			t1.person_num AS num
		FROM
			tbl_training t1
		LEFT JOIN tbl_area t2 ON t1.area_id = t2.id
		where
			1=1
			and
			del_flag='0'
		<if test = "areaName != null and areaName !=''">
			and t2.area_name like concat(concat('%',#{areaName}),'%')
		</if>
		<if test = "issue != null and issue !=''">
			and t1.train_issue like concat(concat('%',#{issue}),'%')
		</if>
			
    </select>
    
</mapper>